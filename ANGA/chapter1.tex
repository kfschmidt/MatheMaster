% This work is licensed under the Creative Commons
% Attribution-NonCommercial-ShareAlike 4.0 International License. To view a copy
% of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/ or
% send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.

\chapter{Algebraische Funktionenkörper}
\section{Transzendente Körpererweiterungen}
Sei $K$ ein Körper und $F|K$ eine Körpererweiterung.

\begin{definition}
    Der \textbf{rationale Funktionenkörper} über $K$ ist
    $$ K(T) := \text{Quot}(K[T]). $$
\end{definition}

\begin{bemerkungnr}
    Ist $t \in F$ transzendent über $K$, so ist $K(t) \cong K(T)$.
    
    Umgekehrt ist $T$ als Element von $K(T)$ transzendent über $K$.
\end{bemerkungnr}

\begin{definition}
    $F$ ist ein \textbf{algebraischer Funktionenkörper einer Variablen} über $K$, 
    wenn es $t \in F$ transzendent über $K$ gibt mit $[F:K(t)] < \infty$.
\end{definition}

\begin{bemerkungnr}
    \begin{enumerate}[label=\alph*)]
        \item Ein Funktionenkörper über $K$ ist also $K$-isomorph zu einer endlichen Erweiterung des $K(T)$.
        
        \item Ist $F$ ein Funktionenkörper über $K$ und $E|F$ eine endliche Körpererweiterung von $F$, 
        so ist auch $E$ ein Funktionenkörper über $K$.

        \item Ist $F$ ein Funktionenkörper über $K$ und $K \subseteq L \subseteq F$ ein Zwischenkörper mit 
        $L|K$ algebraisch, so ist $F$ auch Funktionenkörper über $L$.
    \end{enumerate}
\end{bemerkungnr}

\begin{beispiel}
    \begin{enumerate}[label=\alph*)]
        \item $\Q(T)(\sqrt{-1}) = \Q(\sqrt{-1})(T)$\\
        ist ein rationaler Funktionenkörper über $\Q(\sqrt{-1})$. 
        
        \item $\Q(T)(\sqrt{T^2+1})$ ist ein Funktionenkörper über $\Q$.

        \item $\Q(T)(\sqrt{T+1}) = \Q(\sqrt{T+1})$ ist ein rationaler Funktionenkörper über $\Q$ 
    \end{enumerate}
\end{beispiel}

\begin{definition}
    Ist $F$ Funktionenkörper über $K$, 
    so ist der relative algebraische Abschluss $\tilde{K}$ von $K$ in $F$ der 
    \textbf{Konstantenkörper} von $F$, d.h.
    $$ \tilde{K} := \{\alpha \in F \| \alpha \text{ algebraisch  über } K\}.$$
\end{definition}

\begin{beispiel}\label{beispiel:1.7}
    Der Konstantenkörper des rationalen Funktionenkörpers $K(T)$ ist $K$:

    Ist $f(T) = \frac{g(T)}{h(T)} \in K(T) \setminus K$, mit $g,h \in K[T]$, algebraisch über $K$,
    so existiert $p(X) \in K[X]$ mit $p(f(T)) = 0$. Dann gilt für alle $a_i \in K$
    \begin{align*}
        p(f(T)) &= \sum\limits_{i=0}^n a_i f(T)^i = 0\\
        & \implies \sum\limits_{i=0}^n a_i \frac{g(T)^i}{h(T)^i} = 0\\
        & \implies \sum\limits_{i=0}^n a_i g(T)^i h(T)^{n-i} = 0 \\
        & \implies T \text{ algebraisch über } K.
    \end{align*}
    Was aber im Widerspruch dazu steht, dass $T$ transzendent über $K$.
\end{beispiel}

\begin{lemma}\label{lemma:finiteExp}
    Ist $L|K$ eine endliche Körpererweiterung,
    so ist $$ [L(T):K(T)] = [L:K]. $$
\end{lemma}
\begin{proof}
    Zunächst folgt aus $x_1,...,x_n \in L(T)$ $K(T)$-linear unabhängig, dass
    $x_1,...,x_n \in L$ $K$-linear unabhängig. 
    Daraus folgt$$ [L(T):K(T)] \leq [L:K]. $$

    Sei also $x_1,...,x_n \in L$ $K$-linear unabhängig. Wir zeigen nun, dass dann
    $x_1,...,x_n \in L(T)$ $K(T)$-linear unabhängig ist.
    
    Angenommen $$ \sum\limits_{i=1}^n f_i(T)x_i = 0$$ mit $f_i(T) \in K(T)$, nicht alle 0.
    O.E. seien $f_i(T) \in K[T]$ und es gibt keinen nicht-konstanten Teiler aller $f_i$.
    Dann folgt es existiert $i$ und $\tau \in K$ mit $f_i(\tau) \neq 0$. 
    Damit gilt also $$ \sum\limits_{i=1}^n f_i(\tau)x_i = 0.$$
    Da $x_1,...,x_n$ $K$-linear unabhängig folgt aber $f_i(\tau) = 0$ für alle $i$.

\end{proof}

\begin{satz}\label{satz:1.9}
    Ist $F$ ein Funktionenkörper über $K$ mit Konstantenkörper $\tilde{K}$,
    so ist $\tilde{K}|K$ endlich.
\end{satz}
\begin{proof}
    Ist $t\in F$ transzendent über $K$ mit $F|K(t)$ endlich,
    so ist wegen \cref{lemma:finiteExp} 
    $$ [\tilde{K}:K] = [\tilde{K}(t):K(t)] \leq [F:K(t)] \leq \infty.$$
\end{proof}

\begin{definition}
    \begin{enumerate}[label=\arabic*)]
        \item $a_1,...,a_n \in F$ \textbf{algebraisch unabhängig} über $K$,\\
        wenn für alle $f \in K[X_1,...,X_n]$:
        $$ f(a_1,...,a_n) = 0 \implies f=0. $$

        \item $(a_i)_{i \in I}$ Familie in $F$ ist \textbf{algebraisch unabhängig},
        wenn für alle endlichen Teilmengen $J \subseteq I$:
        $ (a_i)_{i \in J}$ algebraisch unabhängig über $K$.
    \end{enumerate}
\end{definition}

\begin{beispiel}
    $a$ ist algebraisch unabhängig über $K$ genau dann, wenn $a$ ist transzendent über $K$.
\end{beispiel}

\begin{definition}
    $\X = (x_i)_{i \in I}$ ist \textbf{Transzendenzbasis} von $F|K$, 
    wenn $\X$ algebraisch unabhängig über $K$ ist und $F|K(\X)$ algebraisch.
\end{definition}

\begin{satz}
    $\X = (x_i)_{i \in I}$ ist genau dann Transzendenzbasis von $F|K$,
    wenn $\X$ maximal algebraisch unabhängig in $F$ über $K$ ist.
    
    Insbesondere existiert ein Transzendenzbasis von $F|K$.
\end{satz}

\begin{proof}
    \begin{itemize}[label=]
        \item \underline{$\Leftarrow$:} $x \in F \setminus K(\X) \implies \X \cup \{x\}$ ist algebraisch abhängig, 
        d.h es existieren $i_1,...,i_n$ und $f \in K[X_1,...,X_n, X] \setminus \{0\}$ mit 
        $$ f(x_{i_1},...,x_{i_n},x) = 0. $$
        Da $x_{i_1},...,x_{i_n}$ algebraisch unabhängig ist $\deg_X f > 0$ 
        und somit ist $x$ algebraisch über $K(x_{i_1},...,x_{i_n})$.
        
        \item \underline{$\Rightarrow$:} $x \in F \setminus \X \implies x$ algebraisch über $K(\X)$,
        d.h. es gibt $0 \neq f \in K(\X)[X]$ mit $f(x) = 0$. 
        $\implies$ es existiert $0\neq g \in K[X_1,...,X_n,X]$ und $i_1,...,i_n \in I$ mit
        $g(x_{i_1},...,x_{i_n},x) = 0$ somit sind $x_{i_1},...,x_{i_n},x$ algebraisch abhängig.
    \end{itemize}
\end{proof}

\begin{lemma}[Austauschlemma]\label{lemma:exchange}
    Ist $\Y=(y_j)_{j \in J}$ mit $F|K(\Y)$ algebraisch und \\
    $\X = (x_i)_{i \in I}$ algebraisch unabhängig,
    so existiert $J_0 \subseteq J$ mit $\X \cup (y_j)_{j\in J_0}$ Transzendenzbasis von $F|K$.
\end{lemma}
\begin{proof}
    Nach dem Lemma von Zorn existiert $J_0 \subseteq J$ maximal mit 
    $\X^{'} := \X \cup (y_j)_{j \in J_0}$ algebraisch unabhängig.
    Für jedes $j \in J$ ist dann $y_j$ algebraisch über $K(\X^{'})$\\
    $\implies K(\X\cup \Y)$ algebraisch über $K(\X^{'})$
    Somit ist $\X^{'}$ Transzendenzbasis.
\end{proof}

\begin{satz}[Steinitz, 1910]
    Je zwei Transzendenzbasen von $F|K$ haben die gleiche Kardinalität.
\end{satz}

\begin{proof}[Beweis nur für den endlichen Fall]
    Seien $\X=(x_i)_{i \in I}$ und $\Y = (y_j)_{j \in J}$ Transzendenzbasen von $F|K$.\\
    Wegen Symmetrie ist nur zu zeigen
    $$ |I| \leq |J|. $$
    Induktion nach $n = |J|$:
    \begin{itemize}[label=]
        \item \underline{$n=0$:} klar, $F|K$ algebraisch.
        \item  \underline{$n-1 \to n$:} $F|K$ ist nicht algebraisch 
        $\implies |I| > 0$, O.E. $1 \in I$. Nach \cref{lemma:exchange} existiert $J_0 \subseteq J$ mit
        $\{x_1\} \cup (y_j)_{j\in J_0}$ Transzendenzbasis. 
        Da $\Y$ maximal algebraisch unabhängig ist, ist $|J_0| \leq |J| -1$.
        Sowohl $\X$ als auch $\{x_1\} \cup (y_j)_{j \in J_0}$ sind Transzendenzbasen von $F|K$, die $x_1$ enthalten.
        Somit sind sowohl $\X^{'}:= (x_i)_{i \in I\setminus \{1\}}$ als auch $(y_j)_{j \in J_0}$ Transzendenzbasen von $F|K(x_1)$.
        \begin{align*}
            &\implies |I \setminus\{1\}| \leq |J_0| \\
            &\implies |I| -1 \leq |J| -1 \\
            &\implies |I| \leq |J|            
        \end{align*}
    \end{itemize}
\end{proof}

\begin{definition}
    Der \textbf{Transzendenzgrad} von $F|K$, 
    $$ \trdeg(F|K) $$ ist die Mächtigkeit einer Transzendenzbasis.
\end{definition}

\begin{korollar}
    Sind $K \subseteq L \subseteq F$ Körper, so ist 
    $$ \trdeg(F|K) = \trdeg(L|K) + \trdeg(F|L). $$
\end{korollar}
\begin{proof}
    Ist $\mathfrak{X}$ Transzendenzbasis von $L|K$ und $\mathcal{Y}$ Transzendenzbasis von $F|L$, dann folgt
    $ \mathfrak{X} \cup \mathcal{Y}$ ist Transzendenzbasis von $F|K$.
    \begin{figure}[H]
        \centering
        \begin{tikzpicture}
            \matrix (m) [matrix of math nodes,row sep=3em,column sep=4em,minimum width=2em]
            {
                & K(\mathfrak{X} \cup \mathcal{Y})(L) & \\
                K(\mathfrak{X} \cup \mathcal{Y}) & L(\mathcal{Y}) & F \\
                K(\mathfrak{X}) & L & \\
                \mathfrak{X} & & \\
            };
            \path
                (m-1-2) edge (m-2-2)
                (m-2-1) edge node [above] {algebraisch} (m-2-2)
                (m-2-2) edge node [above] {algebraisch} (m-2-3)
                (m-3-1) edge node [above] {algebraisch} (m-3-2)
                (m-4-1) edge (m-3-1)
                (m-3-1) edge (m-2-1)
                (m-3-2) edge (m-2-2);
        \end{tikzpicture}
    \end{figure}
\end{proof}

\begin{satz}
    $F$ ist genau dann Funktionenkörper über $K$, wenn $F|K$ endlich erzeugt ist und 
    $$ \trdeg(F|K) = 1. $$
\end{satz}
\begin{proof}
    \begin{itemize}[label=]
        \item \underline{$\implies$:}
        \begin{align*}
            \left[F:K(t)\right] = n < \infty \implies \trdeg(F|K) & = \trdeg(F|K(t)) + \trdeg(K(t)|K)\\
            & = 0 + 1 = 1,
        \end{align*}
        denn $F|K(t)$ ist endlich, also algebraisch.
        Sei $b_1,...,b_n$ eine Transzendenzbasis von $F|K(t)$, $\implies F=K(t, b_1,...,b_n)$ ist endlich erzeugt über $K$. 
        \item \underline{$\Longleftarrow$:}
        $t$ sei Transzendenzbasis von $F|K$, daraus folgt $F|K(t)$ algebraisch.
        Aus $F|K$ endlich erzeugt, folgt $F|K(t)$ endlich erzeugt.
        Aus $F|K(t)$ ist endlich erzeugt und algebraisch folgt $F|K(t)$ endlich.
    \end{itemize}
\end{proof}

\begin{korollar}
    Ist $F$ ein Funktionenkörper über $K$ und $t \in F$, so gilt:
    $$ t \text{ ist transzendent über } K \iff F|K(t) \text{ endlich}.$$ 
\end{korollar}
\begin{korollar}\label{korollar:1.20}
    Ist $F$ ein Funktionenkörper über $K$ und $K \subseteq E \subseteq F$ ein Zwischenkörper, so ist entweder
    \begin{enumerate}[label=(\arabic*)]
        \item $E|K$ algebraisch oder
        \item $E|K$ ein Funktionenkörper über $K$.
    \end{enumerate}
    In beiden Fällen ist $F|K$ endlich erzeugt.
\end{korollar}
\begin{proof}
    \begin{itemize}[label=]
        \item \underline{$E|K$ algebraisch:}
        folgt aus \cref{satz:1.9}
        \item \underline{$E|K$ transzendent:}
        \begin{align*}
            t \in E \text{ transzendent über } K \implies [E:K(t)] \leq [F:K(t)] < \infty\\
            \trdeg(E|K) = \trdeg(F|K) - \trdeg(F|E) = 1
        \end{align*}
    \end{itemize}
\end{proof}

\begin{bemerkungnr}
    So ist zum Beispiel jedes $$ K \subsetneqq E \subseteq K(T)$$
    nach \cref{beispiel:1.7} transzendent und nach \cref{korollar:1.20} ist $E$ Funktionenkörper
    über $K$. Als Korollar aus dem Satz von Riemann-Hurwitz werden wir unter anderem erhalten:
\end{bemerkungnr}
\begin{theorem}[Lüroth, 1875]
    Ist $K \subsetneqq E \subseteq K(T)$ ein Zwischenkörper, so ist $E$ wieder ein rationaler Funktionenkörper über $K$,
    d.h.
    $$ E \cong_K K(T). $$
\end{theorem}

\section{Funktionenkörper algebraischer Kurven}
Sei $K$ ein Körper und $\K \supseteq K$ ein algebraisch abgeschlossener Körper.

\begin{definition}
    Eine \textbf{irreduzible, ebene, affine, algebraische Kurve} über $K$ ist eine Menge der Form
    $$ C = \mathcal{V}(f) := \{P \in \K^2 \mid f(P) = 0\} \subseteq \K^2,$$
    mit $f \in K[X,Y]$ irreduzibel.
\end{definition}

\begin{beispiel}\label{beispiel:2.2}
    $K = \Q$ und $\K = \C$.
    \begin{enumerate}[label=\alph*)]
        \item Kreis, $C = \mathcal{V}(X^2 + Y^2 - 1)$
        \item Neil'sche Parabel, $C = \mathcal{V}(Y^2 - X^3)$
        \item Elliptische Kurve, $C = \mathcal{V}(Y^2 - X^3 + X)$
    \end{enumerate}
\end{beispiel}

\begin{definition}
    Sei $C = \mathcal{V}(f)$ eine irreduzible, ebene, affine, algebraische Kurve. 
    Dann ist $$ K[C] := \sfrac{K[X,Y]}{(f)} $$ der \textbf{Koordinatenring von $C$} und
    $$ K(C) := \Quot(K[C]) $$ der \textbf{Funktionenkörper von $C$}.
\end{definition}

\begin{bemerkungnr}
    Der Koordinatenring beschreibt die polynomialen Funktionen auf $C$ und ist unabhängig von der Wahl von $f$.
    Insbesondere gibt es zu jedem $P \in C$ einen Homomorphismus
    $$ \begin{cases}
        K[C] \to \K \\
        \phi \mapsto \phi(P).
    \end{cases}$$
    Der Ring $K[C]$ ist nullteilerfrei, da $(f)$ prim, $K(C)$ ist also wohldefiniert und beschreibt die 
    "rationalen Funktionen"\ auf $C$, die in fast allen Punkten auf $C$ definiert sind.
\end{bemerkungnr}

\begin{satz}
    Ist $C = \mathcal{V}(f)$ eine irreduzible, ebene, affine, algebraische Kurve über $K$, so ist $K(C)$ ein
    algebraischer Funktionenkörper über $K$.

    Ist $\Char(K) = 0$, so gilt auch die Umkehrung, d.h. für jeden Funktionenkörper $F$ über $K$ von der Form
    $$F \cong_K K(C),$$ ist $C$ eine irreduzible, ebene, affine, algebraische Kurve über $K$.
\end{satz}
\begin{proof}
    \begin{align*}
        &K[C] = \sfrac{K[X,Y]}{(f)} = K[x,y], \\
        &x = X + (f), y = Y + (f)\\
        \implies & K(C) = K(x,y) \text{ und } f(x,y) = 0
    \end{align*}
    Ohne Einschränkung $f \notin K[X] \implies$ $y$ ist algebraisch über $K(x)$,
    $x$ ist transzendent über $K$, denn
    $$ K[X] \hookrightarrow K[X,Y] \to K[x,y] $$
    ist injektiv. Somit $K(C)$ Funktionenkörper über $K$.

    Ist $\Char(K) = 0$ so gilt der Satz vom primitiven Element:
    Ist $E|K$ endlich, so ist $E = F(\alpha)$ für ein $\alpha \in E$.
    Wähle $x \in F$ transzendent über $K$.
    \begin{align*}
        \implies & K(x) \text{ endlich}\\
        \implies & \text{es existiert } y \in F \text{ mit } F=K(x,y).
    \end{align*} 
    Wähle $0 \neq f \in K(x)[Y]$ mit $f(x,y) =0$, o.E. $f \in K[X,Y]$ irreduzibel.
    Daraus folgt $F = K(x,y)=K(C)$ mit $C = \mathcal{V}(f)$.
\end{proof}

\begin{bemerkungnr}
    In der algebraischen Geometrie hat jede irreduzible Kurve $C$ über $K$ (also jede irreduzible
    eindiemensionale quasiprojektive $K-$Varietät) einen Funktionenkörper, der ein Funktionenkörper
    über $K$ ist. 
    
    Allgemein: Funktionenkörper in $\dim C + 1$ Variablen.
\end{bemerkungnr}

\begin{theorem}
    Ist $F$ ein algebraischer Funktionenkörper über $K$, so gibt es eine irreduzible projektive Kurve
    $C$ mit $K(C) \cong_K F$.
    
    Ist $\Char(K)=0$, so gibt es sogar so ein $C$ die glatt ist, und $C$ ist dann bis auf Isomorphie eindeutig bestimmt.
\end{theorem}

\begin{definition}
    Sei $C = \mathcal{V}(f)$ eine irreduzible, ebene, affine, algebraische Kurve. Der Punkt $P \in C$ ist
    \textbf{glatt}(oder regulär), wenn
    $$ \frac{\partial}{\partial X}f(P) \neq 0 \text{ oder } \frac{\partial}{\partial Y} f(P) \neq 0.$$
    Die Kurve ist \textbf{glatt}, wenn jeder Punkt $P \in C$ glatt ist.
\end{definition}

\begin{beispiel}
    \cref{beispiel:2.2} a) und c) sind glatt

    \cref{beispiel:2.2} b) ist überall glatt außer in $(0,0)$, dort singulär
\end{beispiel}